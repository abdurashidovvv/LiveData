package com.abdurashidov.livedata.adaptersimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.core.widget.addTextChangedListenerimport androidx.lifecycle.LifecycleOwnerimport androidx.recyclerview.widget.RecyclerViewimport androidx.recyclerview.widget.RecyclerView.ViewHolderimport com.abdurashidov.livedata.databinding.ItemView1Bindingimport com.abdurashidov.livedata.databinding.ItemView2Bindingimport com.abdurashidov.livedata.utils.MyDataclass RvAdapter(val lifecycleOwner: LifecycleOwner): RecyclerView.Adapter<ViewHolder>() {    inner class Vh1(val rvItem: ItemView1Binding): RecyclerView.ViewHolder(rvItem.root){        fun onBind(){            rvItem.edtName.addTextChangedListener {                MyData.myLiveData.postValue(it.toString())            }        }    }    inner class Vh2(val rvItem: ItemView2Binding): RecyclerView.ViewHolder(rvItem.root){        fun onBind(){            MyData.myLiveData.observe(lifecycleOwner){                rvItem.tvName.text=it            }        }    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {        return if (viewType==0){            Vh1(ItemView1Binding.inflate(LayoutInflater.from(parent.context), parent, false))        }else{            Vh2(ItemView2Binding.inflate(LayoutInflater.from(parent.context), parent, false))        }    }    override fun onBindViewHolder(holder: ViewHolder, position: Int) {        if (position==0){            (holder as Vh1).onBind()        }else{            (holder as Vh2).onBind()        }    }    override fun getItemCount(): Int =  2    override fun getItemViewType(position: Int): Int {        return position    }}